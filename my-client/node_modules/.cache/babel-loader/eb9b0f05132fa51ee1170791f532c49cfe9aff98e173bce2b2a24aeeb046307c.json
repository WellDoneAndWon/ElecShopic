{"ast":null,"code":"var _jsxFileName = \"C:\\\\ElecShopic\\\\my-client\\\\src\\\\pages\\\\Shop.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Col, Container, Row, Form } from \"react-bootstrap\";\nimport TypeBar from '../components/TypeBar';\nimport BrandBar from \"../components/BrandBar\";\nimport DeviceList from \"../components/DeviceList\";\nimport { Context } from \"../index\";\nimport { fetchTypes, fetchBrands, fetchDevices } from \"../http/deviceAPI\";\nimport { observer } from \"mobx-react-lite\";\nimport Pages from \"../components/Pages\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Shop = _s(observer(_c = _s(() => {\n  _s();\n  const {\n    device\n  } = useContext(Context);\n  const [search, setSearch] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(true);\n  useEffect(() => {\n    setIsLoading(true);\n    Promise.all([fetchTypes(), fetchBrands(), fetchDevices(null, null, 1, 3)]).then(([typesData, brandsData, devicesData]) => {\n      device.setTypes(typesData);\n      device.setBrands(brandsData);\n      device.setDevices(devicesData.rows);\n      device.setTotalCount(devicesData.count);\n    }).finally(() => setIsLoading(false));\n  }, [device]);\n  useEffect(() => {\n    setIsLoading(true);\n    fetchDevices(device.selectedType.id, device.selectedBrand.id, device.page, 3).then(data => {\n      device.setDevices(data.rows);\n      device.setTotalCount(data.count);\n    }).finally(() => setIsLoading(false));\n  }, [device.page, device.selectedType, device.selectedBrand]);\n  const filteredDevices = device.devices.filter(dev => dev.name.toLowerCase().includes(search.toLowerCase()));\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      className: \"mt-2\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        md: 3,\n        className: \"d-flex flex-column\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          placeholder: \"\\uD83D\\uDD0D \\u041F\\u043E\\u0438\\u0441\\u043A \\u043F\\u043E \\u043A\\u0430\\u0442\\u0430\\u043B\\u043E\\u0433\\u0443...\",\n          value: search,\n          onChange: e => setSearch(e.target.value),\n          style: {\n            marginBottom: 24,\n            borderRadius: 12,\n            fontSize: 17,\n            boxShadow: \"0 2px 8px rgba(0,0,0,0.04)\",\n            padding: \"10px 16px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-grow-1\",\n          children: /*#__PURE__*/_jsxDEV(TypeBar, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 9,\n        className: \"d-flex flex-column\",\n        children: [/*#__PURE__*/_jsxDEV(BrandBar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-grow-1\",\n          children: isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-center align-items-center h-100\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"spinner-border text-primary\",\n              role: \"status\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"visually-hidden\",\n                children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(DeviceList, {\n              devices: filteredDevices\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Pages, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n}, \"5EIIal/yXIKbuNVEdm8qUGUaTGQ=\")), \"5EIIal/yXIKbuNVEdm8qUGUaTGQ=\");\n_c2 = Shop;\nexport default Shop;\nvar _c, _c2;\n$RefreshReg$(_c, \"Shop$observer\");\n$RefreshReg$(_c2, \"Shop\");","map":{"version":3,"names":["React","useContext","useEffect","useState","Col","Container","Row","Form","TypeBar","BrandBar","DeviceList","Context","fetchTypes","fetchBrands","fetchDevices","observer","Pages","jsxDEV","_jsxDEV","Fragment","_Fragment","Shop","_s","_c","device","search","setSearch","isLoading","setIsLoading","Promise","all","then","typesData","brandsData","devicesData","setTypes","setBrands","setDevices","rows","setTotalCount","count","finally","selectedType","id","selectedBrand","page","data","filteredDevices","devices","filter","dev","name","toLowerCase","includes","children","className","md","Control","type","placeholder","value","onChange","e","target","style","marginBottom","borderRadius","fontSize","boxShadow","padding","fileName","_jsxFileName","lineNumber","columnNumber","role","_c2","$RefreshReg$"],"sources":["C:/ElecShopic/my-client/src/pages/Shop.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport { Col, Container, Row, Form } from \"react-bootstrap\";\r\nimport TypeBar from '../components/TypeBar';\r\nimport BrandBar from \"../components/BrandBar\";\r\nimport DeviceList from \"../components/DeviceList\";\r\nimport { Context } from \"../index\";\r\nimport { fetchTypes, fetchBrands, fetchDevices } from \"../http/deviceAPI\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport Pages from \"../components/Pages\";\r\n\r\nconst Shop = observer(() => {\r\n    const { device } = useContext(Context);\r\n    const [search, setSearch] = useState(\"\");\r\n    const [isLoading, setIsLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        setIsLoading(true);\r\n        Promise.all([\r\n            fetchTypes(),\r\n            fetchBrands(),\r\n            fetchDevices(null, null, 1, 3)\r\n        ])\r\n            .then(([typesData, brandsData, devicesData]) => {\r\n                device.setTypes(typesData);\r\n                device.setBrands(brandsData);\r\n                device.setDevices(devicesData.rows);\r\n                device.setTotalCount(devicesData.count);\r\n            })\r\n            .finally(() => setIsLoading(false));\r\n    }, [device]);\r\n\r\n    useEffect(() => {\r\n        setIsLoading(true);\r\n        fetchDevices(device.selectedType.id, device.selectedBrand.id, device.page, 3)\r\n            .then(data => {\r\n                device.setDevices(data.rows);\r\n                device.setTotalCount(data.count);\r\n            })\r\n            .finally(() => setIsLoading(false));\r\n    }, [device.page, device.selectedType, device.selectedBrand]);\r\n\r\n    const filteredDevices = device.devices.filter(dev =>\r\n        dev.name.toLowerCase().includes(search.toLowerCase())\r\n    );\r\n\r\n    return (\r\n        <Container>\r\n            <Row className='mt-2'>\r\n                <Col md={3} className=\"d-flex flex-column\">\r\n                    <Form.Control\r\n                        type=\"text\"\r\n                        placeholder=\"üîç –ü–æ–∏—Å–∫ –ø–æ –∫–∞—Ç–∞–ª–æ–≥—É...\"\r\n                        value={search}\r\n                        onChange={e => setSearch(e.target.value)}\r\n                        style={{\r\n                            marginBottom: 24,\r\n                            borderRadius: 12,\r\n                            fontSize: 17,\r\n                            boxShadow: \"0 2px 8px rgba(0,0,0,0.04)\",\r\n                            padding: \"10px 16px\"\r\n                        }}\r\n                    />\r\n                    <div className=\"flex-grow-1\">\r\n                        <TypeBar />\r\n                    </div>\r\n                </Col>\r\n                <Col md={9} className=\"d-flex flex-column\">\r\n                    <BrandBar />\r\n                    <div className=\"flex-grow-1\">\r\n                        {isLoading ? (\r\n                            <div className=\"d-flex justify-content-center align-items-center h-100\">\r\n                                <div className=\"spinner-border text-primary\" role=\"status\">\r\n                                    <span className=\"visually-hidden\">–ó–∞–≥—Ä—É–∑–∫–∞...</span>\r\n                                </div>\r\n                            </div>\r\n                        ) : (\r\n                            <>\r\n                                <DeviceList devices={filteredDevices} />\r\n                                <Pages />\r\n                            </>\r\n                        )}\r\n                    </div>\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    );\r\n});\r\n\r\nexport default Shop;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}