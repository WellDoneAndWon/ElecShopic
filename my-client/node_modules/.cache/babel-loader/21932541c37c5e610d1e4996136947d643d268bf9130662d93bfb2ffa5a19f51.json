{"ast":null,"code":"var _jsxFileName = \"C:\\\\ElecShopic\\\\my-client\\\\src\\\\components\\\\DeviceList.js\",\n  _s = $RefreshSig$();\nimport { Row, Col, Button } from \"react-bootstrap\";\nimport DeviceItem from \"./DeviceItem\";\nimport { observer } from \"mobx-react-lite\";\nimport React, { useContext } from \"react\";\nimport { Context } from \"../index\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DeviceList = _s(observer(_c = _s(() => {\n  _s();\n  const {\n    device,\n    user\n  } = useContext(Context); // Добавляем user\n\n  const handleDelete = id => {\n    if (window.confirm(\"Удалить это устройство?\")) {\n      device.deleteDevice(id);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Row, {\n    className: \"d-flex\",\n    children: device.devices.map(deviceItem => /*#__PURE__*/_jsxDEV(Col, {\n      md: 4,\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(DeviceItem, {\n        device: deviceItem\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 21\n      }, this), user.role === 'ADMIN' && /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outline-danger\",\n        className: \"mt-2\",\n        onClick: () => handleDelete(deviceItem.id),\n        children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0443\\u0441\\u0442\\u0440\\u043E\\u0439\\u0441\\u0442\\u0432\\u043E\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 25\n      }, this)]\n    }, deviceItem.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 17\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 9\n  }, this);\n}, \"JoYCYcX6TuOp5KYl/7lJcmkcz14=\")), \"JoYCYcX6TuOp5KYl/7lJcmkcz14=\");\n_c2 = DeviceList;\nexport default DeviceList;\nvar _c, _c2;\n$RefreshReg$(_c, \"DeviceList$observer\");\n$RefreshReg$(_c2, \"DeviceList\");","map":{"version":3,"names":["Row","Col","Button","DeviceItem","observer","React","useContext","Context","jsxDEV","_jsxDEV","DeviceList","_s","_c","device","user","handleDelete","id","window","confirm","deleteDevice","className","children","devices","map","deviceItem","md","fileName","_jsxFileName","lineNumber","columnNumber","role","variant","onClick","_c2","$RefreshReg$"],"sources":["C:/ElecShopic/my-client/src/components/DeviceList.js"],"sourcesContent":["import { Row, Col, Button } from \"react-bootstrap\";\r\nimport DeviceItem from \"./DeviceItem\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport React, { useContext } from \"react\";\r\nimport { Context } from \"../index\";\r\n\r\nconst DeviceList = observer(() => {\r\n    const { device, user } = useContext(Context); // Добавляем user\r\n\r\n    const handleDelete = (id) => {\r\n        if (window.confirm(\"Удалить это устройство?\")) {\r\n            device.deleteDevice(id);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Row className=\"d-flex\">\r\n            {device.devices.map(deviceItem => (\r\n                <Col md={4} key={deviceItem.id} className=\"mb-4\">\r\n                    <DeviceItem device={deviceItem} />\r\n                    {/* Показываем кнопку только для админа */}\r\n                    {user.role === 'ADMIN' && (\r\n                        <Button\r\n                            variant=\"outline-danger\"\r\n                            className=\"mt-2\"\r\n                            onClick={() => handleDelete(deviceItem.id)}\r\n                        >\r\n                            Удалить устройство\r\n                        </Button>\r\n                    )}\r\n                </Col>\r\n            ))}\r\n        </Row>\r\n    );\r\n});\r\n\r\nexport default DeviceList;\r\n"],"mappings":";;AAAA,SAASA,GAAG,EAAEC,GAAG,EAAEC,MAAM,QAAQ,iBAAiB;AAClD,OAAOC,UAAU,MAAM,cAAc;AACrC,SAASC,QAAQ,QAAQ,iBAAiB;AAC1C,OAAOC,KAAK,IAAIC,UAAU,QAAQ,OAAO;AACzC,SAASC,OAAO,QAAQ,UAAU;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnC,MAAMC,UAAU,GAAAC,EAAA,CAAGP,QAAQ,CAAAQ,EAAA,GAAAD,EAAA,CAAC,MAAM;EAAAA,EAAA;EAC9B,MAAM;IAAEE,MAAM;IAAEC;EAAK,CAAC,GAAGR,UAAU,CAACC,OAAO,CAAC,CAAC,CAAC;;EAE9C,MAAMQ,YAAY,GAAIC,EAAE,IAAK;IACzB,IAAIC,MAAM,CAACC,OAAO,CAAC,yBAAyB,CAAC,EAAE;MAC3CL,MAAM,CAACM,YAAY,CAACH,EAAE,CAAC;IAC3B;EACJ,CAAC;EAED,oBACIP,OAAA,CAACT,GAAG;IAACoB,SAAS,EAAC,QAAQ;IAAAC,QAAA,EAClBR,MAAM,CAACS,OAAO,CAACC,GAAG,CAACC,UAAU,iBAC1Bf,OAAA,CAACR,GAAG;MAACwB,EAAE,EAAE,CAAE;MAAqBL,SAAS,EAAC,MAAM;MAAAC,QAAA,gBAC5CZ,OAAA,CAACN,UAAU;QAACU,MAAM,EAAEW;MAAW;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,EAEjCf,IAAI,CAACgB,IAAI,KAAK,OAAO,iBAClBrB,OAAA,CAACP,MAAM;QACH6B,OAAO,EAAC,gBAAgB;QACxBX,SAAS,EAAC,MAAM;QAChBY,OAAO,EAAEA,CAAA,KAAMjB,YAAY,CAACS,UAAU,CAACR,EAAE,CAAE;QAAAK,QAAA,EAC9C;MAED;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CACX;IAAA,GAXYL,UAAU,CAACR,EAAE;MAAAU,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAYzB,CACR;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACD,CAAC;AAEd,CAAC,kCAAC;AAACI,GAAA,GA5BGvB,UAAU;AA8BhB,eAAeA,UAAU;AAAC,IAAAE,EAAA,EAAAqB,GAAA;AAAAC,YAAA,CAAAtB,EAAA;AAAAsB,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}